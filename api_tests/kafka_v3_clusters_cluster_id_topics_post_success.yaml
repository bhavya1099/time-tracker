# ********RoostGPT********

# Test generated by RoostGPT for test artilleryTest using AI Type  and AI Model 
# 
# Test generated for /kafka/v3/clusters/{cluster_id}/topics_post for http method type POST in artillery framework
# RoostTestHash=783e9d2ab5
# 
# 

# ********RoostGPT********
config:
  plugins:
    expect: {}
  scenarios:
    - name: "Validate API Success Responses"
      flow:
        - log: "Creating topic"
        - post:
            url: "{{ $target }}/kafka/v3/clusters/{{ $cluster_id }}/topics"
            headers:
              Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
            payload:
              topic_name: "topic-X"
              partitions_count: 64
              replication_factor: 3
              configs:
                - name: "cleanup.policy"
                  value: "compact"
              - post:
                  name: "compression.type"
                  value: "gzip"
              - post:
                  name: "validate_only"
                  value: false
            expect:
              - statusCode: 201
        - think: 1
        - log: "Getting topic details"
        - get:
            url: "{{ $target }}/kafka/v3/clusters/{{ $cluster_id }}/topics/topic-X"
            headers:
              Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
            expect:
              - statusCode: 200
        - think: 1
        - log: "Deleting topic"
        - delete:
            url: "{{ $target }}/kafka/v3/clusters/{{ $cluster_id }}/topics/topic-X"
            headers:
              Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
            expect:
              - statusCode: 204